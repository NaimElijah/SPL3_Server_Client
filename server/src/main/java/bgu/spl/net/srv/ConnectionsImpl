package bgu.spl.net.srv;

import java.util.concurrent.ConcurrentLinkedQueue;


public class ConnectionsImpl<T> implements Connections<T>{

    private final ConcurrentLinkedQueue<BlockingConnectionHandler> connected_clients = new ConcurrentLinkedQueue<BlockingConnectionHandler>();  // this holds the connectionhandlers of logged clients.

    public void connect(int connectionId, ConnectionHandler<T> handler){
        if(!(connected_clients.contains(handler))){
            connected_clients.add(handler);
        }else{
            //  we need to make an error
        }
        //
    }

    public boolean send(int connectionId, T msg){   //  we need to send only to the clients that are logged in.
        for(BlockingConnectionHandler handler : connected_clients){
            handler.send(msg);
        }
    }

    public void disconnect(int connectionId){
        // implement
    }


}